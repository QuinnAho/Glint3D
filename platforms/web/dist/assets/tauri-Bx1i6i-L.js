function d(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function a(e,o=!1){const n=d(),r=`_${n}`;return Object.defineProperty(window,r,{value:t=>(o&&Reflect.deleteProperty(window,r),e==null?void 0:e(t)),writable:!1,configurable:!0}),n}async function c(e,o={}){return new Promise((n,r)=>{const t=a(i=>{n(i),Reflect.deleteProperty(window,`_${u}`)},!0),u=a(i=>{r(i),Reflect.deleteProperty(window,`_${t}`)},!0);window.__TAURI_IPC__({cmd:e,callback:t,error:u,...o})})}async function w(e){return c("tauri",e)}export{w as i,a as t};
