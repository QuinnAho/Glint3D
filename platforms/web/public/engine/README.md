# Engine Assets Directory

This directory contains the WebAssembly build of the Glint3D engine for web deployment.

## Files

- `glint3d.js` - Emscripten-generated JavaScript loader and runtime
- `glint3d.wasm` - WebAssembly binary containing the compiled C++ engine  
- `glint3d.data` - Preloaded assets (shaders, models, textures)
- `glint3d.html` - Standalone HTML page for testing WASM directly

## Build Process

These files are generated by the C++ engine build system and copied here by the web build scripts:

```bash
# Full web build (recommended)
npm run web:build
./tools/build-web.sh

# Engine-only build  
npm run engine:build:web
```

## Asset Loading

The web frontend loads the engine via the path `/engine/glint3d.js` which maps to this directory through Vite's public folder handling.

## File Name Compatibility

The build system handles multiple possible output names from CMake/Emscripten:
- `objviewer.*` → renamed to `glint3d.*` (current)  
- `glint.*` → renamed to `glint3d.*`
- `glint3d.*` → used as-is

This ensures the frontend always finds `glint3d.js` regardless of the CMake target name.

## Manual Updates

To manually update the engine files:

```bash
# Copy from build output (adjust filename as needed)
cp builds/web/emscripten/objviewer.js web/public/engine/glint3d.js
cp builds/web/emscripten/objviewer.wasm web/public/engine/glint3d.wasm  
cp builds/web/emscripten/objviewer.data web/public/engine/glint3d.data
```

## Testing

Test engine accessibility:
```bash
curl -I http://localhost:5173/engine/glint3d.js  # Should return 200 OK
```

The engine will be automatically loaded when the web frontend initializes the canvas component.
